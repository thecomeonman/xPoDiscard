<!DOCTYPE html>
<?xml version="1.0" encoding="utf-8"?>

<html>

<head>
<title>xPo, A Way to Summarise Attacking Strategy</title>
<meta name="keywords" content="football, analysis, data science">
<meta name="description" content="This document describes xPo, a way to summarise attacking strategy">
<meta name="Author" content="Aditya Kothari">
</head>

<link rel = "stylesheet"
   type = "text/css"
   href = "./Assets/Stylesheet.css" />

<body>



<button class="tablink3" onclick="openPage('Intro', this, 'red', 'tablink3')" id="defaultOpen">Introduction</button>
<button class="tablink3" onclick="openPage('setAttack', this, 'blue', 'tablink3')">How Players Attack</button>
<button class="tablink3" onclick="openPage('ReachOut', this, 'black', 'tablink3')">What Do You Think?</button>

<div id = 'Intro' class="tabContent">

    <h3>What is xPo?</h3>

    <p>
        xPo expands to expected potential.
    </p>

    <p>
        I wanted to figure out a way to measure the value of various 
        attacking actions on the pitch. xPo is just an estimate of the 
        potential xG an action could eventually generate.
    </p>
    
    <p>
        For more details about the methodology, check out <a href = "./index.html"
        target="_blank">the first post in this series</a>. 
    </p>

    <h3>Part 2: Players</h3>

    <p>
        In part 1 the focus was on teams but in part 2 we focus on players. The
        team numbers bunch up the player's numbers and produce a higher level
        picture but when you look at player numbers you get a better understanding
        of both the team and the player's attacking contribution. For instance,
        a team which has a very active right wing, may actually have the contribution
        split across their right back and their right winger both of whom may be
        contribution from different parts of that wing. The winger with the ball 
        in the middle half of the pitch may not be a situation with as high a 
        potential to score as the right back having the ball in the same area.
    </p>

    <p>
        You can compare the team's numbers in <a href = "./index.html"
        target="_blank">the first post in this series</a> and
        look at how some of the  players from that team contribute in this post.
    </p>

    <h3>Deviations from the base methodology</h3>

    <p>
        I calculate an xPo for shots for each player using only their shots to 
        better describe their shooting
        ability. The numbers used to calculate the xPo for their passing and 
        running though use the team xPo shots model.
    </p>

</div>

<div id = 'setAttack' class="tabContent">
<div id = 'setSelection'>
    
    <h3>How To View This</h3>
    <h4>Select a Player</h3>

    <p>
        I have used data for EPL games from the 2019/20 season until March 2020.
        I've used only teams which haven't had any managerial changes
        during the season because a consistent strategy over the whole season
        is easier to capture than a mix of two or more stategies.
    </p>
    
    <p>        
        There are extra comments for Trent Alexander-Arnold and Mohamed Salah 
        which may help you understand what's happening more easily so if you're 
        seeing this for the first time then you may want to choose them.
    </p>

    <h4>Viewing Pointers</h3>

    <p>
        Different colours mean different scales. The brightest red is not the same
        as the brightest blue is not the same as the brightest yellow, etc.
        Comparing the brightness of two different colours is meaningless.
    </p>

    <p>
        You can opt to compare different selections on a common colour scale by 
        leaving "Scale color relative only to selection" unchecked. By checking it 
        you shrink the colour scale to span 
        only across the selection's numbers rather than the common
        colour scale which makes it easier to see patterns for players which don't
        have very strong numbers for either probabilities or overall contribution.
    </p>
    
    <p>
        I'd also recommend a high-ish brightness setting and disabling 
        your red tinting software if you have it on. 
    </p>

</div>

<div id = 'AttackContent'></div>
</div>

<div id = 'ReachOut' class="tabContent">

    <p>
        Thanks for making it till here! There are some more posts on the same 
        concept which you may find interesting:
    </p>

    <ul>
        <li>
            <a href = "./index.html" target="_blank">
                Team attacking styles
            </a>
        </li>
        <li>
            <a href = "./indexPlayers.html" target="_blank">
                Player attacking styles
            </a>
        </li>
    </ul>

    <p>
        Do you have any feedback, comments, questions, or interesting 
        observations? You can 
        <a href = 'https://twitter.com/thecomeonman' target="_blank">find me on Twitter</a>!
        I'd love to hear your thoughts!
    </p>


</div>

<script src = "./Assets/d3.v4.min.js"></script>       
    
<script>

    // constants
    if ( true ) {

        allSetNames = [
            'Adama Traore, EPL, 2019-20',
            'Alisson, EPL, 2019-20',
            'Allan Saint-Maximin, EPL, 2019-20',
            'Andrew Robertson, EPL, 2019-20',
            'Aymeric Laporte, EPL, 2019-20',
            'Caglar Soyuncu, EPL, 2019-20',
            'Callum Wilson, EPL, 2019-20',
            'Danny Ings, EPL, 2019-20',
            'Dwight McNeil, EPL, 2019-20',
            'Ederson, EPL, 2019-20',
            'Emiliano Buendia, EPL, 2019-20',
            'Harry Wilson, EPL, 2019-20',
            'Jack Grealish, EPL, 2019-20',
            'James Maddison, EPL, 2019-20',
            'Jamie Vardy, EPL, 2019-20',
            'John McGinn, EPL, 2019-20',
            'Jorginho, EPL, 2019-20',
            'Kevin DeBruyne, EPL, 2019-20',
            'Marcus Rashford, EPL, 2019-20',
            'Mason Mount, EPL, 2019-20',
            'Mateo Kovacic, EPL, 2019-20',
            'Miguel Almiron, EPL, 2019-20',
            'Mohamed Salah, EPL, 2019-20',
            'Nathan Redmond, EPL, 2019-20',
            'Oliver Norwood, EPL, 2019-20',
            'Neal Maupay, EPL, 2019-20',
            'Pascal Gross, EPL, 2019-20',
            'Roberto Firmino, EPL, 2019-20',
            'Ross Barkley, EPL, 2019-20',
            'Sadio Mane, EPL, 2019-20',
            'Teemu Pukki, EPL, 2019-20',
            'Todd Cantwell, EPL, 2019-20',
            'Trent Alexander-Arnold, EPL, 2019-20',
            'Virgil van Dijk, EPL, 2019-20',
            'WilfriedZaha, EPL, 2019-20'
        ]

        allSetCodes = [      
            'Wolves_For_Scoring_Player_AdamaTraore',
            'Liverpool_For_Scoring_Player_Alisson',
            'Newcastle_For_Scoring_Player_AllanSaint-Maximin',
            'Liverpool_For_Scoring_Player_AndrewRobertson',
            'ManCity_For_Scoring_Player_AymericLaporte',
            'Leicester_For_Scoring_Player_CaglarSoyuncu',
            'Bournemouth_For_Scoring_Player_CallumWilson',
            'Southampton_For_Scoring_Player_DannyIngs',
            'Burnley_For_Scoring_Player_DwightMcNeil',
            'ManCity_For_Scoring_Player_Ederson',
            'Norwich_For_Scoring_Player_EmilianoBuendia',
            'Bournemouth_For_Scoring_Player_HarryWilson',
            'AstonVilla_For_Scoring_Player_JackGrealish',
            'Leicester_For_Scoring_Player_JamesMaddison',
            'Leicester_For_Scoring_Player_JamieVardy',
            'AstonVilla_For_Scoring_Player_JohnMcGinn',
            'Chelsea_For_Scoring_Player_Jorginho',
            'ManCity_For_Scoring_Player_KevinDeBruyne',
            'ManUtd_For_Scoring_Player_MarcusRashford',
            'Chelsea_For_Scoring_Player_MasonMount',
            'Chelsea_For_Scoring_Player_MateoKovacic',
            'Newcastle_For_Scoring_Player_MiguelAlmiron',
            'Liverpool_For_Scoring_Player_MohamedSalah',
            'Southampton_For_Scoring_Player_NathanRedmond',
            'SheffieldUtd_For_Scoring_Player_OliverNorwood',
            'Brighton_For_Scoring_Player_NealMaupay',
            'Brighton_For_Scoring_Player_PascalGross',
            'Liverpool_For_Scoring_Player_RobertoFirmino',
            'Chelsea_For_Scoring_Player_RossBarkley',
            'Liverpool_For_Scoring_Player_SadioMane',
            'Norwich_For_Scoring_Player_TeemuPukki',
            'Norwich_For_Scoring_Player_ToddCantwell',
            'Liverpool_For_Scoring_Player_TrentAlexander-Arnold',
            'Liverpool_For_Scoring_Player_VirgilvanDijk',
            'CrystalPalace_For_Scoring_Player_WilfriedZaha'
        ]

        selectedSetCode = 'Liverpool_For_Scoring_Player_TrentAlexander-Arnold'

        // selectedSetCode = allSetCodes[
        //     Math.floor(
        //         Math.random() * allSetCodes.length
        //     )
        // ]
        selectedSetName = allSetNames[allSetCodes.indexOf(selectedSetCode)]

        nBlockWidth = 2

        cWhatScaleToUse = 'Player'

        bExplainerTest = false

        postCode = 'PlayerScoringPost'

    }

</script>


<script src = "./Assets/Tabs.js"></script>
<script src = "./Assets/Visualisation.js"></script>

</body>
</html>
